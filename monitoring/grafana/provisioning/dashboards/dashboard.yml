apiVersion: 1

providers:
  # 1) VictoriaMetrics 상태 대시보드
  - name: "VictoriaMetrics / vmagent"
    orgId: 1
    folder: "VictoriaMetrics"
    type: file
    disableDeletion: false
    editable: true
    updateIntervalSeconds: 30
    allowUiUpdates: true
    options:
      # 아래 폴더에 VM/VMAgent 관련 대시보드 JSON 파일을 넣어주세요.
      path: /var/lib/grafana/dashboards/victoriametrics
      # 파일 변경 감지를 위해 정규식(기본 *.json)
      foldersFromFilesStructure: true

  # 2) Loki 메트릭/상태 대시보드
  - name: "Loki"
    orgId: 1
    folder: "Loki"
    type: file
    disableDeletion: false
    editable: true
    updateIntervalSeconds: 30
    allowUiUpdates: true
    options:
      path: /var/lib/grafana/dashboards/loki
      foldersFromFilesStructure: true

  # 3) cAdvisor 컨테이너 리소스 대시보드
  - name: "cAdvisor"
    orgId: 1
    folder: "cAdvisor"
    type: file
    disableDeletion: false
    editable: true
    updateIntervalSeconds: 30
    allowUiUpdates: true
    options:
      path: /var/lib/grafana/dashboards/cadvisor
      foldersFromFilesStructure: true

  # 4) Promtail 수집기 상태/메트릭 대시보드
  - name: "Promtail"
    orgId: 1
    folder: "Promtail"
    type: file
    disableDeletion: false
    editable: true
    updateIntervalSeconds: 30
    allowUiUpdates: true
    options:
      path: /var/lib/grafana/dashboards/promtail
      foldersFromFilesStructure: true
